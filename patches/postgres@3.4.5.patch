diff --git a/cjs/src/types.js b/cjs/src/types.js
index 0578284c5a691d0cb535cda8dc40177d87cd62a1..5b54dbf072e08b53dfe0355b3439cd62d998e879 100644
--- a/cjs/src/types.js
+++ b/cjs/src/types.js
@@ -317,15 +317,21 @@ function arrayParserLoop(s, x, parser, typarray) {
 
 const toCamel = module.exports.toCamel = x => {
   let str = x[0]
-  for (let i = 1; i < x.length; i++)
-    str += x[i] === '_' ? x[++i].toUpperCase() : x[i]
+  for (let i = 1; i < x.length; i++) {
+    if (x[i] === "_" && i + 1 === x.length) {
+      str += "_"
+      i++
+    } else {
+      str += x[i] === "_" ? x[++i].toUpperCase() : x[i]
+    }
+  }
   return str
 }
 
 const toPascal = module.exports.toPascal = x => {
   let str = x[0].toUpperCase()
   for (let i = 1; i < x.length; i++)
-    str += x[i] === '_' ? x[++i].toUpperCase() : x[i]
+    str += x[i] === '_' ? x[++i]?.toUpperCase() : x[i]
   return str
 }
 
